# Stardew Capital Development Tasks

## âœ… å·²å®Œæˆé˜¶æ®µ

- [x] **Planning & Design** <!-- id: 0 -->
    - [x] Review file structure and requirements <!-- id: 1 -->
    - [x] Create development roadmap (`ROADMAP.md`) <!-- id: 2 -->
- [x] **Phase 1: Core Engine & Math** <!-- id: 3 -->
    - [x] Setup project structure (.csproj, folders) <!-- id: 4 -->
    - [x] Implement `Core/Time/TimeProvider` <!-- id: 5 -->
    - [x] Implement `Core/Math/GBM` (æ¨¡å‹äºŒ) <!-- id: 6 -->
    - [x] Implement `Core/Math/BrownianBridge` (æ¨¡å‹å››) <!-- id: 7 -->
    - [x] Create Unit Tests for Math Models <!-- id: 8 -->
- [x] **Phase 2: Basic Market Loop** <!-- id: 9 -->
    - [x] Implement `Domain/Instruments` & `TickData` <!-- id: 10 -->
    - [x] Implement `Services/PriceEngine` (åŸºç¡€ç‰ˆæœ¬) <!-- id: 11 -->
    - [x] Implement `Services/MarketManager` (åŸºç¡€ç‰ˆæœ¬) <!-- id: 12 -->
    - [x] Integrate with SMAPI `UpdateTicked` <!-- id: 13 -->
- [x] **Phase 3: Hybrid UI Foundation** <!-- id: 14 -->
    - [x] Implement `Services/WebServer` (HttpListener) <!-- id: 15 -->
    - [x] Create `Assets/Web/index.html` with TradingView Charts <!-- id: 16 -->
    - [x] Implement In-Game `TradingMenu` (Simple Buy/Sell) <!-- id: 25 -->
- [x] **Phase 4: Trading System & Configuration** <!-- id: 17 -->
    - [x] Implement `ModConfig` & Refactor Time System <!-- id: 18 -->
    - [x] Implement `Domain/Account` (`TradingAccount`, `Position`) <!-- id: 19 -->
    - [x] Implement `Services/BrokerageService` (Margin, Leverage) <!-- id: 26 -->
    - [x] Update `TradingMenu` (Deposit/Withdraw, Leverage) <!-- id: 27 -->
- [x] **Phase 5: Integration & Persistence** <!-- id: 21 -->
    - [x] Implement `Data/SaveModel` & `PersistenceService` <!-- id: 24 -->
    - [x] Fix Initialization (Move to `SaveLoaded`) <!-- id: 28 -->
    - [x] Implement `DeliveryService` (Physical Settlement) <!-- id: 23 -->
- [x] **Phase 6: Advanced Delivery & Polish** <!-- id: 29 -->
    - [x] Implement `ExchangeService` (ModData & Box Finding) <!-- id: 30 -->
    - [x] Implement `ExchangeMenuController` (Inject Button into Chest Menu) <!-- id: 32 -->
    - [x] Update `DeliveryService` to use Exchange Boxes <!-- id: 31 -->

---

## ğŸš§ å¾…è¡¥å…¨çš„æ ¸å¿ƒåŠŸèƒ½ï¼ˆåŸºäºæœŸè´§.mdè®¾è®¡ï¼‰

> **é‡è¦å‘ç°**: å½“å‰ä»£ç åªå®Œæˆäº†åŸºç¡€æ¡†æ¶ï¼Œ**5ä¸ªæ ¸å¿ƒä»·æ ¼æ¨¡å‹ä¸­æœ‰3ä¸ªå®Œå…¨ç¼ºå¤±**ï¼

### **é˜¶æ®µ 7ï¼šå®Œå–„ä»·æ ¼æ¨¡å‹ç³»ç»Ÿï¼ˆP0 - æœ€é«˜ä¼˜å…ˆçº§ï¼‰** <!-- id: 33 -->

    - [x] å®ç° `CheckNPCBirthday()` - NPCç”Ÿæ—¥æå‡ä¾¿åˆ©æ”¶ç›Š <!-- id: 49 -->
    - [x] å®ç° `CheckCommunityBundle()` - ç¤¾åŒºä¸­å¿ƒä»»åŠ¡å½±å“ <!-- id: 50 -->
- [x] ä¿®æ”¹ `CommodityFutures.cs` - æ·»åŠ  `FuturesPrice` å±æ€§ï¼ˆä¸ `CurrentPrice` åŒºåˆ†ï¼‰ <!-- id: 51 -->
- [x] æ›´æ–° `BrokerageService` - ä½¿ç”¨æœŸè´§ä»·æ ¼è€Œéç°è´§ä»·æ ¼äº¤æ˜“ <!-- id: 52 -->

---

### **é˜¶æ®µ 8ï¼šæ–°é—»ä¸äº‹ä»¶ç³»ç»Ÿï¼ˆP1 - é«˜ä¼˜å…ˆçº§ï¼‰** <!-- id: 53 -->

- [x] ~~è®¾è®¡æ–°é—»ç±»å‹æšä¸¾ `NewsType` (å®³è™«/ä¸°æ”¶/è®¢å•/å¹²æ—±/èŠ‚æ—¥)~~ <!-- id: 54 -->
- [x] ~~åˆ›å»º `Services/NewsGenerator.cs` - éšæœºæ–°é—»ç”Ÿæˆå™¨~~ <!-- id: 55 -->
    - [x] ~~å®ç° `GenerateDailyNews()` - æ¯æ—¥æ–°é—»è§¦å‘ï¼ˆåŸºäºJSONé…ç½®æ¦‚ç‡ï¼‰~~ <!-- id: 56 -->
    - [x] ~~ä¸ºæ¯ç§æ–°é—»ç±»å‹é…ç½® `DemandImpact` å’Œ `SupplyImpact`~~ <!-- id: 57 -->
    - [x] ~~æ·»åŠ æ–°é—»æè¿°æ–‡æœ¬ï¼ˆæ”¯æŒæœ¬åœ°åŒ–ï¼‰~~ <!-- id: 58 -->
- [x] ~~é›†æˆåˆ° `MarketManager.OnNewDay()`~~ <!-- id: 59 -->
    - [x] ~~ç”Ÿæˆæ–°é—»äº‹ä»¶~~ <!-- id: 60 -->
    - [x] ~~æ›´æ–°æ–°é—»å†å²åˆ—è¡¨~~ <!-- id: 61 -->
    - [x] ~~è§¦å‘ `FundamentalEngine` é‡æ–°è®¡ç®—åŸºæœ¬é¢~~ <!-- id: 62 -->
    - [x] ~~è§¦å‘æ—¥å†…ç›®æ ‡ä»·æ›´æ–°ï¼ˆç”¨äºæ¨¡å‹å››ï¼‰~~ <!-- id: 63 -->
- [x] ~~åœ¨ `TradingMenu` ä¸­æ˜¾ç¤ºä»Šæ—¥æ–°é—»~~ <!-- id: 64 -->
- [x] ~~åˆ›å»ºé…ç½®æ–‡ä»¶ `Assets/news_config.json` - æ–°é—»æ¦‚ç‡å’Œå½±å“å‚æ•°~~ <!-- id: 65 -->

---

### **é˜¶æ®µ 9ï¼šå¸‚åœºå†²å‡»ä¸å¾®è§‚åšå¼ˆå±‚ï¼ˆP2 - ä¸­ä¼˜å…ˆçº§ï¼‰** âœ… **å·²å®Œæˆ** <!-- id: 66 -->

#### 9.1 å†²å‡»å±‚åŸºç¡€æ¶æ„ <!-- id: 67 -->
- [x] åˆ›å»º `Domain/Market/MarketScenario.cs` - å¸‚åœºå‰§æœ¬é…ç½® <!-- id: 68 -->
    - [x] å®šä¹‰å‰§æœ¬ï¼šæ­»æ°´ä¸€æ½­ (Dead Market) <!-- id: 69 -->
    - [x] å®šä¹‰å‰§æœ¬ï¼šéç†æ€§ç¹è£ (Irrational Exuberance) <!-- id: 70 -->
    - [x] å®šä¹‰å‰§æœ¬ï¼šææ…Œè¸©è¸ (Panic Selling) <!-- id: 71 -->
    - [x] å®šä¹‰å‰§æœ¬ï¼šè½§ç©ºé£æš´ (Short Squeeze) <!-- id: 72 -->
- [x] åˆ›å»º `Services/ImpactService.cs` - å¸‚åœºå†²å‡»è®¡ç®—å¼•æ“ <!-- id: 73 -->
    - [x] å®ç° `CalculateImpact()` - I(t+1) = I(t) + Î”I_å„ç±»å‚ä¸è€… <!-- id: 74 -->
    - [x] å®ç° `CalculatePlayerImpact()` - ç©å®¶äº¤æ˜“å†²å‡» (Î”I_Player) <!-- id: 75 -->
    - [x] å®ç° `CalculateSmartMoney()` - èªæ˜é’±å›å½’åŠ› (Î”I_Smart) <!-- id: 76 -->
    - [x] å®ç° `CalculateTrendFollower()` - æŠ€æœ¯æ´¾æƒ¯æ€§ (Î”I_Trend) <!-- id: 77 -->
    - [x] å®ç° `CalculateFOMO()` - éŸ­èœæƒ…ç»ªæ”¾å¤§ (Î”I_FOMO) <!-- id: 78 -->
    - [x] æ·»åŠ å†²å‡»è¡°å‡æœºåˆ¶ï¼ˆæ¯å¸§ Ã— 0.95ï¼‰ <!-- id: 79 -->
- [x] å®ç°å‰§æœ¬åˆ‡æ¢é€»è¾‘ <!-- id: 80 -->
    - [x] åˆ›å»º `ScenarioManager` - æ¯å¤©æˆ–æ¯å‡ å°æ—¶éšæœºåˆ‡æ¢å‰§æœ¬ <!-- id: 81 -->
    - [x] åœ¨æ–°é—»tabç•Œé¢æ˜¾ç¤ºå½“å‰å¸‚åœºæƒ…ç»ª <!-- id: 82 -->

#### 9.2 é›†æˆåˆ°ä»·æ ¼å¼•æ“ <!-- id: 83 -->
- [x] ä¿®æ”¹ `PriceEngine.UpdatePrice()` <!-- id: 84 -->
    - [x] è®¡ç®—æ¨¡å‹å››çš„ç†æ€§ä»·æ ¼ P_Model <!-- id: 85 -->
    - [x] å åŠ  ImpactService çš„å†²å‡»å€¼ I(t) <!-- id: 86 -->
    - [x] è¾“å‡ºæœ€ç»ˆä»·æ ¼ P_Final = P_Model + I(t) <!-- id: 87 -->
- [x] åœ¨ `BrokerageService.ExecuteOrder()` ä¸­è§¦å‘å†²å‡»è®¡ç®— <!-- id: 88 -->

---

### **é˜¶æ®µ 10ï¼šL2è®¢å•ç°¿ç³»ç»Ÿï¼ˆP4 - ä½ä¼˜å…ˆçº§ï¼Œé«˜çº§åŠŸèƒ½ï¼‰** âœ… **å·²å®Œæˆ** <!-- id: 89 -->

- [x] åˆ›å»º `Domain/Market/OrderBook.cs` - è®¢å•ç°¿æ•°æ®ç»“æ„ <!-- id: 90 -->
    - [x] `List<LimitOrder> Bids` - ä¹°ç›˜é˜Ÿåˆ—ï¼ˆé™åºï¼‰ <!-- id: 91 -->
    - [x] `List<LimitOrder> Asks` - å–ç›˜é˜Ÿåˆ—ï¼ˆå‡åºï¼‰ <!-- id: 92 -->
- [x] åˆ›å»º `Domain/Market/LimitOrder.cs` - é™ä»·å•æ¨¡å‹ <!-- id: 93 -->
    - [x] å±æ€§ï¼šOrderId, IsPlayerOrder, Price, Quantity, Timestamp <!-- id: 94 -->
- [x] å®ç°è®¢å•ç°¿æ“ä½œ <!-- id: 95 -->
    - [x] `PlaceOrder()` - æ’å…¥è®¢å•åˆ°æ­£ç¡®ä½ç½® <!-- id: 96 -->
    - [x] `ExecuteMarketOrder()` - å¸‚ä»·å•æ’®åˆï¼Œè¿”å› VWAP å’Œæ»‘ç‚¹ <!-- id: 97 -->
    - [x] `GenerateNPCDepth()` - æ ¹æ®å¸‚åœºæƒ…ç»ªç”Ÿæˆè™šæ‹Ÿæ·±åº¦ <!-- id: 98 -->
- [x] è™šæ‹Ÿæµé‡ä¸ç¢°æ’æ£€æµ‹ <!-- id: 99 -->
    - [x] åœ¨ `MarketManager.Update()` ä¸­å®ç° `ProcessVirtualFlow()` (Moved to `MarketPriceUpdater`) <!-- id: 100 -->
    - [x] è®¡ç®—æ¨¡å‹å››çš„ç›®æ ‡ä»·ä¸ç›˜å£ä¸­é—´ä»·çš„å·®è· <!-- id: 101 -->
    - [x] ç”Ÿæˆè™šæ‹Ÿå¸‚ä»·å•å»"æ’å‡»"è®¢å•ç°¿ <!-- id: 102 -->
    - [x] ç©å®¶æŒ‚å•è¢«åƒæ—¶è§¦å‘å›è°ƒé€šçŸ¥ <!-- id: 103 -->
- [x] æ›´æ–° `BrokerageService` æ”¯æŒé™ä»·å• <!-- id: 104 -->
    - [x] æ·»åŠ  `PlaceLimitOrder()` æ–¹æ³• <!-- id: 105 -->
    - [x] æ·»åŠ  `CancelOrder()` æ–¹æ³• <!-- id: 106 -->
- [x] åœ¨ `TradingMenu` ä¸­æ˜¾ç¤º L2 æ·±åº¦ï¼ˆå‰5æ¡£ï¼‰ (Implemented in Web UI) <!-- id: 107 -->

---

### **é˜¶æ®µ 11ï¼šé£é™©ç®¡ç†ç³»ç»Ÿï¼ˆP3 - ä¸­é«˜ä¼˜å…ˆçº§ï¼‰** âœ… **å·²å®Œæˆ** <!-- id: 108 -->

#### 11.1 æ¯æ—¥ç»“ç®—ç³»ç»Ÿ <!-- id: 109 -->
- [x] åˆ›å»º `Services/ClearingService.cs` - ç»“ç®—æœåŠ¡ ï¼ˆæ³¨æ„ï¼Œæ­¤æ—¶æ–‡ä»¶å¤¹å˜åŒ–äº†ï¼Œè¦æ£€æŸ¥ä¸€ä¸‹ï¼‰<!-- id: 110 -->
    - [x] å®ç° `DailySettlement()` - Mark-to-Market ç»“ç®— <!-- id: 111 -->
    - [x] è®¡ç®—æœªå®ç°ç›ˆäºï¼ˆUnrealized P&Lï¼‰ <!-- id: 112 -->
    - [x] è®¡ç®—æ‰€éœ€ä¿è¯é‡‘ï¼ˆRequired Marginï¼‰ <!-- id: 113 -->
    - [x] æ£€æŸ¥ä¿è¯é‡‘è¦†ç›–ç‡ï¼ˆMargin Coverage Ratioï¼‰ <!-- id: 114 -->
- [x] è¿½ä¿ä¸å¼ºå¹³é€»è¾‘ <!-- id: 115 -->
    - [x] å®ç° `IssueMarginCall()` - ä¿è¯é‡‘ä½äº 80% ç»´æŒçº¿æ—¶è­¦å‘Š <!-- id: 116 -->
    - [x] å®ç° `ForceLiquidate()` - ä½äº 50% æ—¶å¼ºåˆ¶å¹³ä»“ <!-- id: 117 -->
    - [x] åœ¨æ¸¸æˆå†…å‘é€ HUD æ¶ˆæ¯å’Œé‚®ä»¶é€šçŸ¥ <!-- id: 118 -->
- [x] é›†æˆåˆ° `MarketManager` <!-- id: 119 -->
    - [x] åœ¨æ¯æ—¥æ”¶ç›˜æ—¶è°ƒç”¨ `ClearingService` <!-- id: 120 -->

#### 11.2 åˆ°æœŸäº¤å‰²ä¸è¿çº¦å¤„ç† <!-- id: 121 -->
- [x] æ‰©å±• `DeliveryService.ProcessExpiredContracts()` <!-- id: 122 -->
    - [x] æ£€æŸ¥ç©ºå•æŒæœ‰è€…çš„åº“å­˜ï¼ˆä¼˜å…ˆä»äº¤å‰²ç®±ï¼‰ <!-- id: 123 -->
    - [x] å¦‚æ— æ³•äº¤ä»˜ï¼Œè®¡ç®—å¹¶æ²¡æ”¶å…¨éƒ¨ä¿è¯é‡‘ <!-- id: 124 -->
    - [x] å‘é€ä¸¥é‡è­¦å‘Šï¼ˆçº¢è‰² HUD æ¶ˆæ¯ï¼‰ <!-- id: 125 -->
    - [x] è®°å½•è¿çº¦å†å²ï¼ˆå¯é€‰ï¼šå½±å“æœªæ¥äº¤æ˜“æ¡ä»¶ï¼‰ <!-- id: 126 -->
- [x] å¤šå•äº¤å‰²ä¼˜åŒ– <!-- id: 127 -->
    - [x] ä¼˜å…ˆå‘é€åˆ°äº¤å‰²ç®± <!-- id: 128 -->
    - [x] äº¤å‰²ç®±æ»¡æ—¶æ‰ä½¿ç”¨é‚®ä»¶ <!-- id: 129 -->

---

### **é˜¶æ®µ 12ï¼šUI å¢å¼ºä¸æ•°æ®å¯è§†åŒ–ï¼ˆP5 - é”¦ä¸Šæ·»èŠ±ï¼‰** âœ… **å·²å®Œæˆ** <!-- id: 130 -->

- [x] æ‰©å±•ç½‘é¡µç«¯çš„ä¿¡æ¯é¢æ¿ <!-- id: 131 -->
    - [x] æ˜¾ç¤º"æœŸè´§ä»·æ ¼ vs ç°è´§ä»·æ ¼" <!-- id: 132 -->
    - [x] æ˜¾ç¤º"åŸºå·® (Basis = F_t - S_t)" <!-- id: 133 -->
    - [x] æ˜¾ç¤º"å¸‚åœºæ·±åº¦"ï¼ˆL2å‰5æ¡£ï¼Œéœ€å…ˆå®Œæˆé˜¶æ®µ10ï¼‰ <!-- id: 134 -->
    - [x] æ˜¾ç¤º"ä»Šæ—¥æ–°é—»"æ‘˜è¦ <!-- id: 135 -->
    - [x] æ˜¾ç¤º"æŒä»“é£é™©æŒ‡æ ‡"ï¼ˆä¿è¯é‡‘ä½¿ç”¨ç‡ã€å¼ºå¹³çº¿è·ç¦»ï¼‰ <!-- id: 136 -->
- [x] å¢å¼º WebServer æ•°æ®æ¨é€ <!-- id: 137 -->
    - [x] æ¨é€å®æ—¶æœŸè´§ä»·æ ¼ vs ç°è´§ä»·æ ¼ <!-- id: 138 -->
    - [x] æ¨é€å¸‚åœºå†²å‡»å€¼ I(t) çš„å†å²æ›²çº¿ <!-- id: 139 -->
    - [x] æ¨é€æ–°é—»äº‹ä»¶æ—¶é—´è½´ <!-- id: 140 -->
- [x] (æ”¾å¼ƒï¼Œä¸è¿›è¡Œ) åˆ›å»º `ChartRenderer.cs` - æ¸¸æˆå†…Kçº¿å›¾ <!-- id: 141 -->

---

### **é˜¶æ®µ 13ï¼šé…ç½®ä¸æµ‹è¯•** <!-- id: 142 -->

#### 13.1 é…ç½®æ–‡ä»¶ <!-- id: 143 -->
- [ ] åˆ›å»º `Assets/commodities.json` - å•†å“é…ç½® <!-- id: 144 -->
    - [ ] é…ç½®å„ä½œç‰©çš„ BasePrice, BaseDemand, BaseSupply <!-- id: 145 -->
    - [ ] é…ç½®ç”Ÿé•¿å­£èŠ‚å’Œå­£èŠ‚æ€§ä¹˜æ•° <!-- id: 146 -->
- [ ] åˆ›å»º `Assets/market_params.json` - å¸‚åœºå‚æ•° <!-- id: 147 -->
    - [ ] æ— é£é™©åˆ©ç‡ r = 0.002 <!-- id: 148 -->
    - [ ] ä»“å‚¨æˆæœ¬ Ï† = 0.005 <!-- id: 149 -->
    - [ ] åŸºç¡€ä¾¿åˆ©æ”¶ç›Š q = 0.001 <!-- id: 150 -->
    - [ ] æ›´æ–°é—´éš” 700ms <!-- id: 151 -->
- [ ] åˆ›å»º `Assets/news_config.json` - æ–°é—»é…ç½® <!-- id: 152 -->
    - [ ] æ¯æ—¥è§¦å‘æ¦‚ç‡ 30% <!-- id: 153 -->
    - [ ] å„ç±»æ–°é—»çš„ä¾›éœ€å½±å“å€¼ <!-- id: 154 -->

#### 13.2 è‡ªåŠ¨åŒ–æµ‹è¯• <!-- id: 155 -->
- [ ] åˆ›å»º `Tests/FundamentalEngineTests.cs` <!-- id: 156 -->
    - [ ] æµ‹è¯•æ— æ–°é—»æ—¶ S_T = P_base Ã— 1 <!-- id: 157 -->
    - [ ] æµ‹è¯•å®³è™«å±æœºä¸‹ S_T > P_base <!-- id: 158 -->
    - [ ] æµ‹è¯•ä¸°æ”¶ä¸‹ S_T < P_base <!-- id: 159 -->
- [ ] åˆ›å»º `Tests/FuturesPricingTests.cs` <!-- id: 160 -->
    - [ ] éªŒè¯ F_t > S_t (å½“ r+Ï† > q) <!-- id: 161 -->
    - [ ] éªŒè¯ä¾¿åˆ©æ”¶ç›Šå½±å“ <!-- id: 162 -->
- [ ] åˆ›å»º `Tests/ImpactServiceTests.cs` <!-- id: 163 -->
    - [ ] æµ‹è¯•ç©å®¶å¤§é¢ä¹°å…¥åä»·æ ¼ä¸Šæ¶¨ <!-- id: 164 -->
    - [ ] æµ‹è¯•æ­»æ°´ä¸€æ½­å‰§æœ¬ä¸‹ä»·æ ¼å¿«é€Ÿå›å½’ <!-- id: 165 -->
    - [ ] æµ‹è¯•éç†æ€§ç¹è£ä¸‹ä»·æ ¼æš´æ¶¨ <!-- id: 166 -->

#### 13.3 æ‰‹åŠ¨æ¸¸æˆæµ‹è¯• <!-- id: 167 -->
- [ ] å¥—æœŸä¿å€¼åœºæ™¯éªŒè¯ <!-- id: 168 -->
    - [ ] Day 1 å–å‡ºå¼€ä»“ â†’ Day 28 éªŒè¯ç›ˆäºå¯¹å†² <!-- id: 169 -->
- [ ] æŠ•æœºåœºæ™¯éªŒè¯ <!-- id: 170 -->
    - [ ] æ–°é—»è§¦å‘åä¹°å…¥ â†’ éªŒè¯æ æ†æ”¶ç›Š <!-- id: 171 -->
- [ ] è¿çº¦åœºæ™¯éªŒè¯ <!-- id: 172 -->
    - [ ] æŒç©ºå•åˆ°æœŸæ— åº“å­˜ â†’ éªŒè¯ä¿è¯é‡‘æ²¡æ”¶ <!-- id: 173 -->
- [ ] å¼ºå¹³éªŒè¯ <!-- id: 174 -->
    - [ ] ä¿è¯é‡‘ä¸è¶³ â†’ éªŒè¯è¿½ä¿é€šçŸ¥å’Œå¼ºå¹³æ‰§è¡Œ <!-- id: 175 -->

---

## ğŸ“Š è¿›åº¦æ€»è§ˆ

| é˜¶æ®µ | ä»»åŠ¡æ•° | çŠ¶æ€ | ä¼˜å…ˆçº§ |
|------|--------|------|--------|
| Phase 1-6 | å·²å®Œæˆ | âœ… | - |
| Phase 7: ä»·æ ¼æ¨¡å‹ç³»ç»Ÿ | 19 | â³ å¾…å¼€å§‹ | ğŸ”´ P0 |
| Phase 8: æ–°é—»ç³»ç»Ÿ | 13 | â³ å¾…å¼€å§‹ | ğŸŸ  P1 |
| Phase 9: å¸‚åœºå†²å‡» | 22 | â³ å¾…å¼€å§‹ | ğŸŸ¡ P2 |
| Phase 10: è®¢å•ç°¿ | 18 | â³ å¾…å¼€å§‹ | ğŸ”µ P4 |
| Phase 11: é£é™©ç®¡ç† | 18 | âœ… å·²å®Œæˆ | ğŸŸ¢ P3 |
| Phase 12: UIå¢å¼º | 11 | âœ… å·²å®Œæˆ | âšª P5 |
| Phase 13: é…ç½®æµ‹è¯• | 27 | â³ å¾…å¼€å§‹ | ğŸŸ¡ P2 |

**æ€»å‰©ä½™ä»»åŠ¡**: ~99 é¡¹  
**é¢„ä¼°å·¥ä½œé‡**: 36-53 å°æ—¶

---

## ğŸ¯ å»ºè®®å®æ–½é¡ºåº

1. **å…ˆä¿®å¤è‡´å‘½ç¼ºé™·** (é˜¶æ®µ7 â†’ é˜¶æ®µ8)
   - å½“å‰ä»·æ ¼æ¨¡å‹ä¸ç¬¦åˆè®¾è®¡ï¼Œå¿…é¡»æœ€å…ˆä¿®å¤
   - æ–°é—»ç³»ç»Ÿæ˜¯ä»·æ ¼æ³¢åŠ¨çš„é©±åŠ¨åŠ›

2. **æå‡äº’åŠ¨æ€§** (é˜¶æ®µ9)
   - è®©ç©å®¶æ“ä½œçœŸæ­£å½±å“å¸‚åœº

3. **ä¿è¯æ¸¸æˆå…¬å¹³æ€§** (é˜¶æ®µ11)
   - é˜²æ­¢ç©å®¶æ— é™æ æ†ä½œå¼Š

4. **é«˜çº§åŠŸèƒ½** (é˜¶æ®µ10 â†’ é˜¶æ®µ12)
   - è®¢å•ç°¿å’ŒUIæ˜¯é”¦ä¸Šæ·»èŠ±

5. **å…¨é¢æµ‹è¯•** (é˜¶æ®µ13)
   - ç¡®ä¿æ‰€æœ‰åŠŸèƒ½æŒ‰è®¾è®¡å·¥ä½œ

---

## ğŸ“Œ æœªæ¥ä¼˜åŒ–é¡¹ï¼ˆæŠ€æœ¯å€ºåŠ¡ï¼‰

> **è¯´æ˜**: ä»¥ä¸‹åŠŸèƒ½åœ¨ä¸»è¦é˜¶æ®µä¸­é‡‡ç”¨äº†ç®€åŒ–å®ç°ï¼Œä¸å½±å“æ ¸å¿ƒæœºåˆ¶éªŒè¯ï¼Œä½†åº”åœ¨åç»­ç‰ˆæœ¬ä¸­å®Œå–„ã€‚

### ä¾¿åˆ©æ”¶ç›Šç‡ç³»ç»Ÿä¼˜åŒ– <!-- id: 176 -->
- [ ] å®ç°ç¤¾åŒºä¸­å¿ƒBundleçš„ç²¾ç¡®æ£€æŸ¥ <!-- id: 177 -->
    - [ ] è¯»å– `Bundles.json` æˆ–ä½¿ç”¨ `CommunityCenter.bundleData` API <!-- id: 178 -->
    - [ ] ç²¾ç¡®åŒ¹é…å½“å‰æœªå®Œæˆçš„Bundleéœ€æ±‚ç‰©å“ <!-- id: 179 -->
    - [ ] æ ¹æ®Bundleç´§æ€¥ç¨‹åº¦åŠ¨æ€è°ƒæ•´ä¾¿åˆ©æ”¶ç›Šç‡åŠ æˆ <!-- id: 180 -->
    - **å½“å‰çŠ¶æ€**: `ConvenienceYieldService.CheckCommunityBundleBonus()` è¿”å›å›ºå®šå€¼ 0.5%
    - **ç›®æ ‡**: åŠ¨æ€æ£€æµ‹ï¼Œä¾‹å¦‚"ç§‹å­£æ”¶è·Bundle"éœ€è¦å—ç“œæ—¶ï¼Œå—ç“œçš„ä¾¿åˆ©æ”¶ç›Šç‡æå‡ 5-10%

### æœŸè´§åˆçº¦è·¨å­£èŠ‚æ”¯æŒ <!-- id: 181 -->
- [ ] å®ç°è·¨å­£èŠ‚çš„åˆ°æœŸæ—¥è®¡ç®— <!-- id: 182 -->
    - [ ] åˆ›å»ºæ—¥å†è®¡ç®—å·¥å…·ç±» `DateUtils.cs` <!-- id: 183 -->
    - [ ] æ”¯æŒè·¨å­£èŠ‚åˆçº¦ï¼ˆä¾‹å¦‚ï¼šæ˜¥å­£å¼€ä»“ï¼Œå¤å­£28æ—¥äº¤å‰²ï¼‰ <!-- id: 184 -->
    - [ ] å¤„ç†é—°å¹´å’Œç‰¹æ®Šæ—¥æœŸé€»è¾‘ <!-- id: 185 -->
    - **å½“å‰çŠ¶æ€**: `MarketManager.CalculateDaysToMaturity()` ä»…æ”¯æŒåŒå­£èŠ‚å†…åˆçº¦
    - **ç›®æ ‡**: å…è®¸ç©å®¶äº¤æ˜“é•¿æœŸåˆçº¦ï¼ˆä¾‹å¦‚ï¼šæ˜¥1å¼€ä»“ï¼Œç§‹28äº¤å‰²ï¼ŒæŒæœ‰æœŸ = 3Ã—28 å¤©ï¼‰

---

## ğŸ”¢ æ›´æ–°åçš„è¿›åº¦æ€»è§ˆ

| é¡¹ç›® | æ•°é‡ |
|------|------|
| ä¸»è¦é˜¶æ®µä»»åŠ¡ | ~128 é¡¹ |
| æœªæ¥ä¼˜åŒ–ä»»åŠ¡ | 10 é¡¹ |
| **æ€»è®¡** | **~138 é¡¹** |
